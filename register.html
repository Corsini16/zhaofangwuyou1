<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />

    <title>找房无忧-登录</title>
    <link rel="stylesheet" href="./style/reset.css" />
    <link rel="stylesheet" href="./style/login.css" />
    <link rel="stylesheet" href="./style/all.css">
    <script src="./js/setRem.js"></script>
    <script src="./js/myCookie.js"></script>
</head>

<body>

    <div class="box">
        <!--头部-->
        <header>
            <ul class="toubu">
                <li><img src="./image/index/logo.jpg" alt=""></li>
                <li><span><img src="./image/index/my.jpg" alt=""></span></li>
                <li><span><img src="./image/index/xiazai.jpg" alt=""></span></li>
            </ul>
        </header>

        <section class="rentalAddr">
            <p><strong>首页</strong> > <span>我的</span>><span>注册</span></p>
        </section>

        <section class="registerForm login">
            <form action="#">
                <div class="customLogin active">
                    <ul>
                        <li>
                            <input id="phone" type="text" placeholder="请输入手机号码" />
                            <a id="code" href="#">发送验证码</a>
                        </li>
                        <li><input class="yanzheng" type="text" placeholder="请输入短信中的验证码" /></li>
                        <li><input class="pwd" type="text" placeholder="请输入新密码" /></li>
                        <!-- <li><input type="text" placeholder="请输入确认密码" /></li> -->
                    </ul>
                    <input class="registerBtn"  value="立即注册" />
                </div>
            </form>
        </section>
    </div>
</body>

</html>
<script>
    // var mima=document.querySelector(".mima");
    var phone = document.getElementById("phone")
    var code = document.getElementById("code")
    var yanzheng = document.querySelector(".yanzheng")
    var pwd = document.querySelector(".pwd")
    var registerBtn = document.querySelector(".registerBtn")
    console.log(registerBtn);
    console.log(phone);
    var num;
    code.onclick = function () {
        num = (Math.random() * 9).toFixed(0) + (Math.random() * 9).toFixed(0) + (Math.random() * 9).toFixed(0) + (Math.random() * 9).toFixed(0)
        // getcode.disabled=true;
        alert('验证码：' + num)
    }

    phone.onblur = function () {
        if (phone.value == "") {
            phone.style.color = "red";
            phone.value = "手机号不能为空"
        }
    }
    phone.onfocus = function () {
        phone.style.color = "#666666"
        phone.value = ""
    }
    yanzheng.onblur = function () {
        if (yanzheng.value == "") {
            yanzheng.style.color = "red";
            yanzheng.value = "验证码不能为空"
        }
    }
    yanzheng.onfocus = function () {
        yanzheng.style.color = "#666666"
        yanzheng.value = ""
    }
    pwd.onblur = function () {
        if (pwd.value == "") {
            pwd.style.color = "red";
            pwd.value = "密码不能为空"
        }
    }
    pwd.onfocus = function () {
        pwd.style.color = "#666666"
        pwd.value = ""
    }

    var reg = /^(?:(?:\+|00)86)?1[3-9]\d{9}$/
    var regpwd = /^(?=.*[a-zA-Z])(?=.*\d).+$/
    registerBtn.onclick = function () {
        var ph = reg.test(phone.value);
        var vreify = num == yanzheng.value
        var password = regpwd.test(pwd.value)
        if (ph && vreify && password) {
            setCookie('phone', phone.value);
            setCookie('password', pwd.value);
            window.open('./login.html','_self')
        }else if(ph==false){
            alert("手机号有误")
        }else if(vreify==false){
            alert("验证码有误")
        }else if(password==false){
            alert("密码有误")
        }
       
    }
</script>